{% load i18n %}
{% load statistics %}
{% load locks %}
{% load watches %}
{% if stats %}

<table class="stats_comp">
   <thead>
    <tr>
      <th>{% trans "Project/Component" %}</th>
      <th class="alcenter">{% trans "Translations" %}</th>
      <th>{% trans "Options" %}</th>
    </tr>
   </thead>
   <tbody>
   {% for stat in stats %} 
      <tr>
        <td class="left name" id="{{stat.object.full_name}}">
          <a href="{{stat.object.project.get_absolute_url}}" title="{% trans "Go to this project page" %}">{{stat.object.project.name}}</a> 
          <span class="stat_message" > &raquo; <a href="{{stat.object.get_absolute_url}}#{{stat.language.code}}" title="{% trans "Go to this component page" %}">{{stat.object.name}}</a></span>
          {% if stat.error %}
              <span class="i16 notice" title="{% trans "Could not generate statistics for this file" %}"></span>
          {% endif %}
        </td>
        <td class="stats">
          {% stats_bar_full stat %}
          <div class="stats_string_comp" title="{% trans "Trans:" %}{{stat.trans}} {% trans "Fuzzy:" %}{{stat.fuzzy}} {% trans "Untrans:" %}{{stat.untrans}}" >{{stat.trans_perc}}%</div> 
        </td>
        <td class="left actions">
           {% url component_view_file stat.object.project.slug stat.object.slug stat.filename as file_view_url %}
           {% url component_raw_file stat.object.project.slug stat.object.slug stat.filename as file_raw_url %}
           <a class="i16 view nodecoration_icon" title="{% trans "View " %}{{stat.filename}}" href="{{file_view_url}}"></a>
           <a class="i16 get_file nodecoration_icon" title="{% trans "Download " %}{{stat.filename}}" href="{{file_raw_url}}"></a>
           {% pofile_lock stat %}
           {% if request.user.is_authenticated and perms.repowatch.add_watch %}{% watch_toggle stat %}{% endif %}
           {% if request.user.is_authenticated and stat.object.allows_submission and perms.translations.add_pofilelock %}{% include "projects/component_submit.html" %}{% endif %}
         </td>
      </tr>
   {% endfor %}
   </tbody>
</table>
{%  endif %}
